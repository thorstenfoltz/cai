'\" t
.\"     Title: git-cai
.\"    Author: Thorsten Foltz
.\" Generator: Asciidoctor 2.0.26
.\"      Date: 2026-02-14
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "GIT\-CAI" "1" "2026-02-14" "\ \&" "\ \&"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH "NAME"
git-cai \- AI\-powered commit message generator
.SH "SYNOPSIS"
.sp
.nf
\f(CRgit cai\fP [\-a | \-\-all] [\-c | \-\-crazy] [\-d | \-\-debug] [\-g | \-\-generate\-config]
        [\-l [editor|language|style] | \-\-list [editor|language|style]]
        [\-p | \-\-generate\-prompts] [\-s | \-\-squash] [\-u | \-\-update] [\-v | \-\-version]
.fi
.br
.SH "DESCRIPTION"
.sp
git\-cai is a Git extension that generates commit
messages from staged changes using AI.
.sp
The command is invoked as \f(CRgit cai\fP and integrates into Git using the
standard Git extension mechanism.
.sp
git\-cai behaves like \f(CRgit commit\fP, but with the commit message pre\-filled:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
It reads the staged diff (\f(CRgit diff \-\-cached\fP).
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
It sends the diff to the configured LLM provider/model.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
It opens your configured Git editor so you can review/edit before committing.
.RE
.SH "SETUP"
.sp
First run / configuration:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Run \f(CRgit cai\fP once. If no config exists yet, git\-cai creates:
\f(CR~/.config/cai/cai_config.yml\fP (global config) and ensures default prompt files exist:
\f(CR~/.config/cai/commit_prompt.md\fP and \f(CR~/.config/cai/squash_prompt.md\fP.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Add at least one API key to \f(CR~/.config/cai/tokens.yml\fP (created as a template if missing).
The YAML keys are provider names (for example: \f(CRopenai\fP, \f(CRanthropic\fP, \f(CRgemini\fP,
\f(CRgroq\fP, \f(CRxai\fP, \f(CRmistral\fP, \f(CRdeepseek\fP).
If you use \f(CRollama\fP as provider, no token is required.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
In \f(CR~/.config/cai/cai_config.yml\fP, set \f(CRdefault:\fP to the provider you want and
adjust the provider block (model/temperature) as needed.
.RE
.sp
Repository\-specific setup (optional):
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Put a \f(CRcai_config.yml\fP (or \f(CRcai_config.yaml\fP) into the repository root.
This repository config is authoritative and is not merged with the home config.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Generate a starting point with \f(CRgit cai \-g\fP (creates \f(CRcai_config.yml\fP in the
current directory).
.RE
.sp
Custom prompts (optional):
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Generate prompt files in the current directory with \f(CRgit cai \-p\fP.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Point \f(CRprompt_file\fP / \f(CRsquash_prompt_file\fP in \f(CRcai_config.yml\fP to your custom files.
.RE
.SH "OPTIONS"
.sp
\-h, \-\-help
.RS 4
Show this help message.
.RE
.sp
\-a, \-\-all
.RS 4
Stage all modified and deleted files that are already tracked by Git
before generating the commit message.
.RE
.sp
\-c, \-\-crazy
.RS 4
Automatically commit changes using an LLM\-generated message without user confirmation.
.RE
.sp
\-d, \-\-debug
.RS 4
Enable debug logging.
.RE
.sp
\-g, \-\-generate\-config
.RS 4
Generate default cai_config.yml in the current directory.
.RE
.sp
\-l, \-\-list
.RS 4
List information. Provide one of \f(CReditor\fP, \f(CRlanguage\fP, or \f(CRstyle\fP as the next argument.
.RE
.sp
\-p, \-\-generate\-prompts
.RS 4
Generate default commit_prompt.md and squash_prompt.md in the current directory.
Use these as a starting point for custom prompts.
.RE
.sp
\-s, \-\-squash
.RS 4
Squash commits on the current branch and summarize them.
.RE
.sp
\-u, \-\-update
.RS 4
Check for updates.
.RE
.sp
\-v, \-\-version
.RS 4
Show the installed version.
.RE
.SH "LIST TYPES"
.sp
The argument to \f(CR\-\-list\fP must be one of the following:
.sp
editor
.RS 4
List supported and tested editors as default git editor. Most likely more editors will work.
.RE
.sp
language
.RS 4
List supported languages.
.RE
.sp
style
.RS 4
Show available commit message styles.
.RE
.SH "CONFIGURATION"
.sp
Configuration precedence:
.sp
.RS 4
.ie n \{\
\h'-04' 1.\h'+01'\c
.\}
.el \{\
.  sp -1
.  IP " 1." 4.2
.\}
Repository config: \f(CR<repo\-root>/cai_config.yml\fP or \f(CR<repo\-root>/cai_config.yaml\fP
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 2.\h'+01'\c
.\}
.el \{\
.  sp -1
.  IP " 2." 4.2
.\}
Home config: \f(CR~/.config/cai/cai_config.yml\fP
.RE
.sp
.RS 4
.ie n \{\
\h'-04' 3.\h'+01'\c
.\}
.el \{\
.  sp -1
.  IP " 3." 4.2
.\}
Built\-in defaults (written to the home config file on first run)
.RE
.sp
Authentication tokens are loaded from:
.sp
.if n .RS 4
.nf
.fam C
$HOME/.config/cai/tokens.yml
.fam
.fi
.if n .RE
.sp
Config is loaded by default from:
.sp
.if n .RS 4
.nf
.fam C
$HOME/.config/cai/cai_config.yml
.fam
.fi
.if n .RE
.sp
cai_config.yml (or cai_config.yaml) can be loaded from the root of a repository.
If present, it replaces the home config for that repository.
.sp
Tokens can be loaded from everywhere defined within "load_tokens_from"
in cai_config.yml
.SH "FILES"
.sp
\f(CR~/.config/cai/cai_config.yml\fP
.RS 4
Global configuration (created automatically if missing).
.RE
.sp
\f(CR~/.config/cai/tokens.yml\fP
.RS 4
Provider API keys (created as a template if missing).
.RE
.sp
\f(CR~/.config/cai/commit_prompt.md\fP and \f(CR~/.config/cai/squash_prompt.md\fP
.RS 4
Default prompt files (created automatically if missing/empty). You can point
\f(CRprompt_file\fP and \f(CRsquash_prompt_file\fP to other locations.
.RE
.sp
\f(CR<repo\-root>/.caiignore\fP
.RS 4
Optional ignore file. Patterns are appended as exclusions when git\-cai runs
\f(CRgit diff \-\-cached\fP.
.RE
.SH "EDITOR"
.sp
git\-cai uses the same editor resolution as Git (via \f(CRgit var GIT_EDITOR\fP and the
usual \f(CRGIT_EDITOR\fP/\f(CRVISUAL\fP/\f(CREDITOR\fP environment variables).
.sp
In the default commit\-message flow, git\-cai opens an editor with the generated
message in a temporary file:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Save and exit to continue with the commit.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.  sp -1
.  IP \(bu 2.3
.\}
Close without saving to abort.
.RE
.sp
If you use a GUI editor, the template starts with a line \f(CR# DELETE THIS LINE...\fP.
Delete it to accept the commit.
.SH "EXAMPLES"
.sp
Generate a commit message from staged changes:
.sp
.if n .RS 4
.nf
.fam C
git add \-A
git cai
.fam
.fi
.if n .RE
.sp
Stage tracked changes (like \f(CRgit commit \-a\fP) and generate a message:
.sp
.if n .RS 4
.nf
.fam C
git cai \-a
.fam
.fi
.if n .RE
.sp
Commit immediately without opening the editor:
.sp
.if n .RS 4
.nf
.fam C
git cai \-c
.fam
.fi
.if n .RE
.sp
Squash all commits on the current branch into one (rewrites history):
.sp
.if n .RS 4
.nf
.fam C
git cai \-s
.fam
.fi
.if n .RE
.sp
Show supported styles/languages/editors:
.sp
.if n .RS 4
.nf
.fam C
git cai \-l style
git cai \-l language
git cai \-l editor
.fam
.fi
.if n .RE
.SH "SEE ALSO"
.sp
git(1)
.SH "AUTHOR"
.sp
Thorsten Foltz